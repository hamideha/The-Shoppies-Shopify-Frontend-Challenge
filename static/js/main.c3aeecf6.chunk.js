(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(29),c=n.n(i),s=(n(37),n(13)),o=n(31),r=n(18),l=function(e,t){switch(t.type){case"ADD_NOMINATION":return Object(r.a)(Object(r.a)({},e),{},{nominations:[].concat(Object(o.a)(e.nominations),[t.payload])});case"REMOVE_NOMINATION":return Object(r.a)(Object(r.a)({},e),{},{nominations:e.nominations.filter((function(e){return e!==t.payload}))});default:throw new Error}},d=n(2),j={nominations:[],nominationsComplete:!1},b=JSON.parse(localStorage.getItem("nominationData")),m=Object(a.createContext)(j),u=m.Provider,O=function(e){var t=e.children,n=Object(a.useReducer)(l,b||j),i=Object(s.a)(n,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){localStorage.setItem("nominationData",JSON.stringify(c))}),[c]),c.nominationsComplete=c.nominations.length>=5,Object(d.jsx)(u,{value:{state:c,dispatch:o},children:t})},h=function(){return Object(d.jsx)("header",{className:"navbar",style:{margin:"20px 0"},children:Object(d.jsx)("section",{className:"navbar-section",children:Object(d.jsx)("div",{className:"navbar-brand",style:{fontFamily:"Poppins, sans-serif",fontStyle:"italic",color:"#96bf48",fontSize:"32px"},children:"The Shoppies"})})})},p=(n(39),function(e){var t=e.onChange,n=e.value;return Object(d.jsx)("fieldset",{className:"inputGroup",children:Object(d.jsxs)("div",{className:"FormRow",children:[Object(d.jsx)("label",{htmlFor:"search-input",className:"FormRowLabel",children:"Search for a Movie!"}),Object(d.jsx)("input",{className:"FormRowInput",id:"search-input",type:"text",placeholder:"Enter your search here",value:n,onChange:t})]})})}),x=n(30),f=n.n(x),v=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(!0),r=Object(s.a)(o,2),l=r[0],d=r[1],j=Object(a.useState)(),b=Object(s.a)(j,2),m=b[0],u=b[1];return Object(a.useEffect)((function(){d(!0);var t="https://www.omdbapi.com/?s="+e+"&apikey=48fb6645";f.a.get(t).then((function(e){c(e.data),d(!1)})).catch((function(e){u(e)}))}),[e]),{movieData:i,loading:l,error:m}},N=(n(58),n(63)),y=n(62),g=function(e){var t=e.title,n=e.year,a=e.poster,i=e.onAdd,c=e.disabled,s=e.mode;return Object(d.jsx)(N.a,{children:Object(d.jsxs)(y.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"tile tile-centered",children:[Object(d.jsx)("div",{className:"tile-icon",children:"N/A"===a?Object(d.jsx)("i",{className:"icon icon-emoji img-fit-cover"}):Object(d.jsx)("img",{className:"img-fit-cover",src:a,alt:"Poster",style:{maxWidth:"50px"}})}),Object(d.jsxs)("div",{className:"tile-content",children:[Object(d.jsx)("div",{className:"tile-title",children:t}),Object(d.jsx)("small",{className:"tile-subtitle text-dark mr-2",children:n}),"Remove"===s&&Object(d.jsx)("small",{className:"label label-warning",children:"\ud83c\udfc6 Nominated"})]}),Object(d.jsx)("div",{className:"tile-action",children:Object(d.jsx)("button",{className:"btn btn-primary mr-2 ".concat(c?"disabled":""),onClick:i,style:{backgroundColor:"#96bf48",borderColor:"#96bf48"},children:"Add"===s?Object(d.jsx)("i",{className:"icon icon-plus"}):Object(d.jsx)("i",{className:"icon icon-cross"})})})]},"movie")})},I=function(e){var t=e.content;return Object(d.jsx)("div",{className:"empty",children:Object(d.jsx)("p",{className:"empty-title h5 text-dark",children:t})})},w=function(e){var t=e.searchQuery,n=Object(a.useContext)(m),i=n.state,c=i.nominations,s=i.nominationsComplete,o=n.dispatch,r=v(t),l=r.movieData,j=r.error;return j?Object(d.jsx)(I,{content:j.message+" :("}):"True"===l.Response?l.Search.map((function(e){return Object(d.jsx)(g,{mode:"Add",title:e.Title,year:e.Year,poster:e.Poster,disabled:c.find((function(t){return t.imdbID===e.imdbID}))||s,onAdd:function(){return(t=e).disabled=!0,void o({type:"ADD_NOMINATION",payload:t});var t}},e.imdbID)})):Object(d.jsx)(I,{content:"Your search did not return any results"})},C=function(){var e=Object(a.useContext)(m),t=e.state.nominations,n=e.dispatch;return 0!==t.length?t.map((function(e){return Object(d.jsx)(g,{mode:"Remove",title:e.Title,year:e.Year,poster:e.Poster,onAdd:function(){return function(e){n({type:"REMOVE_NOMINATION",payload:e})}(e)}},e.imdbID)})):Object(d.jsx)(I,{content:"You have no nominations"})},A={banner:{height:"70px",width:"300px",position:"fixed",zIndex:400,top:10,right:0,border:"2px solid #96bf48",borderRadius:"4px",backgroundColor:"#f7f7f7",fontFamily:"Poppins, sans-serif",textAlign:"center",overflow:"hidden",padding:"10px"}},S=function(){var e=Object(a.useContext)(m).state.nominationsComplete;return Object(d.jsx)(N.a,{children:e&&Object(d.jsxs)(y.a.div,{initial:{x:"100vw"},animate:{x:0},exit:{x:"100vw"},transition:{type:"spring",duration:.2,mass:.3},style:A.banner,children:["You've nominated 5 movies!",Object(d.jsx)("br",{}),"\ud83c\udf88\ud83c\udf86\ud83c\udf87\u2728\ud83c\udf89\ud83c\udfa5\ud83c\udfac\ud83c\udf7f\ud83c\udfc6"]},"sidebar")})},D=(n(59),function(){var e=Object(a.useContext)(m).state.nominations,t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1];return Object(d.jsxs)("div",{className:"App container",children:[Object(d.jsx)(h,{}),Object(d.jsx)(p,{onChange:function(e){c(e.target.value)},value:i}),Object(d.jsx)(S,{}),Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsxs)("div",{className:"column col-6 col-md-12 my-2",children:[Object(d.jsxs)("h4",{children:['Search Results for "',i,'"']}),Object(d.jsx)(w,{searchQuery:i})]}),Object(d.jsxs)("div",{className:"column col-6 col-md-12 my-2",children:[Object(d.jsxs)("h4",{children:["My Nominations: ",5-e.length," nominations left"]}),Object(d.jsx)(C,{})]})]})]})});c.a.render(Object(d.jsx)(O,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.c3aeecf6.chunk.js.map