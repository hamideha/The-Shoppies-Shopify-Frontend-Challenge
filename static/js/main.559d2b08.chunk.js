(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(29),c=n.n(i),s=(n(37),n(11)),o=n(31),r=n(18),l=function(e,t){switch(t.type){case"ADD_NOMINATION":return Object(r.a)(Object(r.a)({},e),{},{nominations:[].concat(Object(o.a)(e.nominations),[t.payload])});case"REMOVE_NOMINATION":return Object(r.a)(Object(r.a)({},e),{},{nominations:e.nominations.filter((function(e){return e!==t.payload}))});default:throw new Error}},j=n(2),d={nominations:[],nominationsComplete:!1},b=JSON.parse(localStorage.getItem("nominationData")),u=Object(a.createContext)(d),m=u.Provider,O=function(e){var t=e.children,n=Object(a.useReducer)(l,b||d),i=Object(s.a)(n,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){localStorage.setItem("nominationData",JSON.stringify(c))}),[c]),c.nominationsComplete=c.nominations.length>=5,Object(j.jsx)(m,{value:{state:c,dispatch:o},children:t})},h=function(){return Object(j.jsx)("header",{className:"navbar",style:{margin:"20px 0"},children:Object(j.jsx)("section",{className:"navbar-section",children:Object(j.jsx)("div",{className:"navbar-brand",style:{fontFamily:"Poppins, sans-serif",fontStyle:"italic",color:"#96bf48",fontSize:"32px"},children:"The Shoppies"})})})},p=(n(39),function(e){var t=e.onChange,n=e.value;return Object(j.jsx)("fieldset",{className:"inputGroup",children:Object(j.jsxs)("div",{className:"FormRow",children:[Object(j.jsx)("label",{htmlFor:"search-input",className:"FormRowLabel",children:"Search for a Movie!"}),Object(j.jsx)("input",{className:"FormRowInput",id:"search-input",type:"text",placeholder:"Enter your search here",value:n,onChange:t})]})})}),x=n(30),f=n.n(x),v=function(e,t){var n=Object(a.useState)(e),i=Object(s.a)(n,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c},N=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(!0),r=Object(s.a)(o,2),l=r[0],j=r[1],d=Object(a.useState)(),b=Object(s.a)(d,2),u=b[0],m=b[1],O=Object(a.useState)(!1),h=Object(s.a)(O,2),p=(h[0],h[1]),x=v(e.trim(),500);return Object(a.useEffect)((function(){if(j(!0),x){p(!0);var e="https://www.omdbapi.com/?s="+x+"&apikey=48fb6645";f.a.get(e).then((function(e){c(e.data),j(!1)})).catch((function(e){m(e)}))}else c([]),p(!1)}),[x]),{movieData:i,loading:l,error:u}},y=(n(58),n(63)),g=n(62),I=function(e){var t=e.title,n=e.year,a=e.poster,i=e.onAdd,c=e.disabled,s=e.mode;return Object(j.jsx)(y.a,{children:Object(j.jsxs)(g.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"tile tile-centered",children:[Object(j.jsx)("div",{className:"tile-icon",children:"N/A"===a?Object(j.jsx)("i",{className:"icon icon-emoji img-fit-cover"}):Object(j.jsx)("img",{className:"img-fit-cover",src:a,alt:"Poster",style:{maxWidth:"50px"}})}),Object(j.jsxs)("div",{className:"tile-content",children:[Object(j.jsx)("div",{className:"tile-title",children:t}),Object(j.jsx)("small",{className:"tile-subtitle text-dark mr-2",children:n}),"Remove"===s&&Object(j.jsx)("small",{className:"label label-warning",children:"\ud83c\udfc6 Nominated"})]}),Object(j.jsx)("div",{className:"tile-action",children:Object(j.jsx)("button",{className:"btn btn-primary mr-2 ".concat(c?"disabled":""),onClick:i,style:{backgroundColor:"#96bf48",borderColor:"#96bf48"},disabled:c,children:"Add"===s?Object(j.jsx)("i",{className:"icon icon-plus"}):Object(j.jsx)("i",{className:"icon icon-cross"})})})]},"movie")})},w=function(e){var t=e.content;return Object(j.jsx)("div",{className:"empty",children:Object(j.jsx)("p",{className:"empty-title h5 text-dark",children:t})})},C=function(e){var t=e.searchQuery,n=Object(a.useContext)(u),i=n.state,c=i.nominations,s=i.nominationsComplete,o=n.dispatch,r=N(t),l=r.movieData,d=r.error;return d?Object(j.jsx)(w,{content:d.message+" :("}):"True"===l.Response?l.Search.map((function(e){return Object(j.jsx)(I,{mode:"Add",title:e.Title,year:e.Year,poster:e.Poster,disabled:c.find((function(t){return t.imdbID===e.imdbID}))||s,onAdd:function(){o({type:"ADD_NOMINATION",payload:e})}},e.imdbID)})):Object(j.jsx)(w,{content:"Your search did not return any results"})},S=function(){var e=Object(a.useContext)(u),t=e.state.nominations,n=e.dispatch;return 0!==t.length?t.map((function(e){return Object(j.jsx)(I,{mode:"Remove",title:e.Title,year:e.Year,poster:e.Poster,onAdd:function(){return function(e){n({type:"REMOVE_NOMINATION",payload:e})}(e)}},e.imdbID)})):Object(j.jsx)(w,{content:"You have no nominations"})},A={banner:{height:"70px",width:"300px",position:"fixed",zIndex:400,top:10,right:0,border:"2px solid #96bf48",borderRadius:"4px",backgroundColor:"#f7f7f7",fontFamily:"Poppins, sans-serif",textAlign:"center",overflow:"hidden",padding:"10px"}},D=function(){var e=Object(a.useContext)(u).state.nominationsComplete;return Object(j.jsx)(y.a,{children:e&&Object(j.jsxs)(g.a.div,{initial:{x:"100vw"},animate:{x:0},exit:{x:"100vw"},transition:{type:"spring",duration:.2,mass:.3},style:A.banner,children:["You've nominated 5 movies!",Object(j.jsx)("br",{}),"\ud83c\udf88\ud83c\udf86\ud83c\udf87\u2728\ud83c\udf89\ud83c\udfa5\ud83c\udfac\ud83c\udf7f\ud83c\udfc6"]},"sidebar")})},R=(n(59),function(){var e=Object(a.useContext)(u).state.nominations,t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1];return Object(j.jsxs)("div",{className:"App container",children:[Object(j.jsx)(h,{}),Object(j.jsx)(p,{onChange:function(e){c(e.target.value)},value:i}),Object(j.jsx)(D,{}),Object(j.jsxs)("div",{className:"columns",children:[Object(j.jsxs)("div",{className:"column col-6 col-md-12 my-2",children:[Object(j.jsxs)("h4",{children:['Search Results for "',i,'"']}),Object(j.jsx)(C,{searchQuery:i})]}),Object(j.jsxs)("div",{className:"column col-6 col-md-12 my-2",children:[Object(j.jsxs)("h4",{children:["My Nominations: ",5-e.length," nominations left"]}),Object(j.jsx)(S,{})]})]})]})});c.a.render(Object(j.jsx)(O,{children:Object(j.jsx)(R,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.559d2b08.chunk.js.map